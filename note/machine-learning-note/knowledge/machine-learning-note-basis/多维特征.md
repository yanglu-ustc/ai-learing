# Multiple features(variables)

> $$
> x_{j}=j^{th} feature ;\quad n= number \ of \ features;
> $$
>
> $$
> \vec{x}^{(i)}=features \ of \ i^{th} \ training \ example
> $$
>
> $$
> f_{w,b}(x)=w_{1}x_{1}+w_{2}x_{2}+\dots +w_{n}x_{n}+b
> $$
>
> $$
> \vec{w}=\begin{bmatrix}w_{1} & w_{2} & w_{3} & \dots & w_{n}\\ \end{bmatrix}
> $$
>
> $$
> \vec{x}=\begin{bmatrix}x_{1} & x_{2} & x_{3} & \dots & x_{n}\\ \end{bmatrix}
> $$
>
> ```python
> # without vectorization
> f = 0
> for j in range(0,n):
>   f = f + w[j] * x[j]
> f = f + b
> # Vectorization
> # 直接调用指针进行运算，会使得运算速度大幅度增加
> f = np.dot(w,x) + b
> ```
>
> ```python
> # without vectorization
> # w1 = w1 - 0.1d1
> # w2 = w2 - 0.1d2
> # w3 = w3 - 0.1d3
> # ...
> # wn = wn - 0.1dn
> for j in range(0,n):
>   w[j] = w[j] - 0.1 * d[j]
> # Vectorization
> # 直接调用指针进行运算，会使得运算速度大幅度增加
> w = w - 0.1 * d
> ```
>
> $$
> \frac{\partial}{\partial w_{j}}J(\vec{w},b)=\frac{1}{m}\sum_{i=1}^{m}(f_{\vec{w},b}(x^{(i)})-y^{(i)})x_{j}^{(i)} \quad \frac{\partial}{\partial b}J(\vec{w},b)=\frac{1}{m}\sum_{i=1}^{m}(f_{\vec{w},b}(x^{(i)})-y^{(i)})
> $$
>
> $$
> w=w-\alpha\frac{1}{m}\sum_{i=1}^{m}(f_{\vec{w},b}(x^{(i)})-y^{(i)})x_{j}^{(i)} \quad b=b-\alpha\frac{1}{m}\sum_{i=1}^{m}(f_{\vec{w},b}(x^{(i)})-y^{(i)})
> $$

## Normal equation

+ Only for linear regression
+ Solve for w,b without iterations
+ Disadvantages
  + Doesn't generalize to other learning algorithms
  + Slow when number of features is large(>10000)

$$
\theta=(X^{T}X)^{-1}X^{T}y
$$

## Feature scaling

+ 特征缩放！！！！让一组数据的损失函数尽可能变得不是椭圆，而是圆形，缩减到达时间
+ Mean normalization

$$
\mu _{i} :x_{i}=\frac{x_{i}-\mu_{i}}{max({x_{i}})-min(x_{i})}
$$

+ Z-score normalization

$$
\mu _{i} \ and \ \sigma_{i} : x_{i}=\frac{x_{i}-\mu_{i}}{\sigma_{i}}
$$

## Automatic convergence test Let $\varepsilon$ "epsilon" be $10^{-3}$

+ If $J(\vec{w},b)$ decreases by $\geq \varepsilon$ in one iteration,declare convergence

## Identify problem with gradient descent

+ with a small enough $\alpha$, $J(\vec{w},b)$ should decrease on every iteration

## Feature engineering

+ $length$ and $height$.....so,$length\times height$ ?

### Polynomial Regression
